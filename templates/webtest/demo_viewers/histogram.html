
<html>
<head>

  {% include "webgateway/base/includes/script_src_jquery.html" %}
  {% include "webgateway/base/includes/jquery-ui.html" %}

  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"></script>
  <script src="{% static 'webtest/3rdparty/d3.min.js' %}"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>

  <script type="text/babel" src="{% static 'webtest/js/histogram-react.js' %}"></script>

  <script src="{% static 'webtest/js/histogram.js' %}"></script>

  <script>
    IMAGE_ID = {{ image.id }};

  </script>

  <style type="text/css">

  .ui-slider {

    width: 512px;
    height: 4px;
    position: relative;
    margin: 20px 0;
  }

  .ui-slider .ui-slider-handle {
    cursor: default;
    height: 1.2em;
    position: absolute;
    width: 1.2em;
    z-index: 2;
    border: solid black 1px;
    background: white;
    top: -5px;
}

.content {
  float: left;
}

.series {
    fill: none;
}
.axis path, .axis line {
    fill: none;
    stroke: #000;
    shape-rendering: crispEdges;
}



svg {
  font: 10px sans-serif;
  margin-left: 25px;
  margin-bottom: 10px;
}

.line {
  fill: none;
  stroke-width: 1.5px;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

</style>
</head>

<body>
    
  <div class='content'>
<!--     <h3>DNA Stain</h3>
    <input data-type="minimum" type="range" min="0" max="255" value="0">
    <input data-type="maximum" type="range" min="0" max="255" value="255"> -->
    <canvas id="canvas" style="display: none">
    </canvas>
    <img id="viewer" />

  </div>

  <div style='float:left; margin: 20px'>

    <span id="zIndex">0</span>
    <input id="zSlider" type="range" min="0" max="{{ image.getSizeZ|add:'-1' }}" value="0" step="1"/>
    &nbsp Max Intensity Projection: <input type="checkbox" id="projection"/>
    <hr>

    <div class="chart">
      <!-- <div id="start"></div>
      <div id="end"></div> -->
    </div>

    <div id="channelButtons"></div>

    <div id="sliders"></div>

    <hr>
    <div>
      Histogram json data generated by:
      <input type="radio" name="histogramData" value="PIL" checked> PIL
      <input id="numpyRadio" type="radio" name="histogramData" value="numpy"> Numpy (doesn't support projection)
    </div>

  </div>

</body>
</html>